{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["\n\n\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nconst selectors = {\n\tinput: document.querySelector('input#datetime-picker'),\n\tbutton: document.querySelector('button[data-start]'),\n\tdays: document.querySelector('span[data-days]'),\n\thours: document.querySelector('span[data-hours]'),\n\tminutes: document.querySelector('span[data-minutes]'),\n\tseconds: document.querySelector('span[data-seconds]'),\n};\nconst { input, button, days, hours, minutes, seconds } = selectors;\n\nlet userSelectedDate;\nlet options = {\n\tenableTime: true,\n\ttime_24hr: true,\n\tdefaultDate: new Date(),\n\tminuteIncrement: 1,\n\tallowInput: false,\n\tonClose(selectedDates) {\n\t\tuserSelectedDate = selectedDates[0];\n\t\tconst timeUntilEnd = userSelectedDate - new Date();\n\t\tif (timeUntilEnd <= 0) {\n\t\t\tiziToast.error({ title: \"Error\", message: \"Please choose a date in the future\" });\n\t\t\tbutton.setAttribute('disabled', \"\");\n\t\t\treturn;\n\t\t}\n\t\tbutton.removeAttribute('disabled');\n\t},\n};\nbutton.addEventListener('click', () => {\n\tconst intervalId = setInterval(() => {\n\t\tconst dateDifference = userSelectedDate - new Date();\n\t\tconst dateObj = convertMs(dateDifference);\n\t\tdays.innerHTML = addLeadingZero(dateObj.days);\n\t\thours.innerHTML = addLeadingZero(dateObj.hours);\n\t\tminutes.innerHTML = addLeadingZero(dateObj.minutes);\n\t\tseconds.innerHTML = addLeadingZero(dateObj.seconds);\n\t\tbutton.setAttribute('disabled', \"\");\n\t\tinput.setAttribute('disabled', \"\");\n\t\tif (dateDifference <= 0 || !dateDifference) {\n\t\t\tclearInterval(intervalId);\n\t\t\tdays.innerHTML = \"00\";\n\t\t\thours.innerHTML = \"00\";\n\t\t\tminutes.innerHTML = \"00\";\n\t\t\tseconds.innerHTML = \"00\";\n\t\t\tinput.removeAttribute('disabled');\n\t\t}\n\t}, 1000);\n\n});\nfunction addLeadingZero(value) {\n\treturn value.toString().padStart(2, \"0\");\n}\nfunction convertMs(ms) {\n\t// Number of milliseconds per unit of time\n\tconst second = 1000;\n\tconst minute = second * 60;\n\tconst hour = minute * 60;\n\tconst day = hour * 24;\n\n\t// Remaining days\n\tconst days = Math.floor(ms / day);\n\t// Remaining hours\n\tconst hours = Math.floor((ms % day) / hour);\n\t// Remaining minutes\n\tconst minutes = Math.floor(((ms % day) % hour) / minute);\n\t// Remaining seconds\n\tconst seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n\treturn { days, hours, minutes, seconds };\n}\n\nflatpickr(input, options);;\n\n"],"names":["selectors","input","button","days","hours","minutes","seconds","userSelectedDate","options","selectedDates","iziToast","intervalId","dateDifference","dateObj","convertMs","addLeadingZero","value","ms","flatpickr"],"mappings":"+IAOA,MAAMA,EAAY,CACjB,MAAO,SAAS,cAAc,uBAAuB,EACrD,OAAQ,SAAS,cAAc,oBAAoB,EACnD,KAAM,SAAS,cAAc,iBAAiB,EAC9C,MAAO,SAAS,cAAc,kBAAkB,EAChD,QAAS,SAAS,cAAc,oBAAoB,EACpD,QAAS,SAAS,cAAc,oBAAoB,CACrD,EACM,CAAE,MAAAC,EAAO,OAAAC,EAAQ,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAS,EAAGN,EAEzD,IAAIO,EACAC,EAAU,CACb,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,WAAY,GACZ,QAAQC,EAAe,CAGtB,GAFAF,EAAmBE,EAAc,CAAC,EACbF,EAAmB,IAAI,MACxB,EAAG,CACtBG,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,oCAAoC,CAAE,EAChFR,EAAO,aAAa,WAAY,EAAE,EAClC,MACA,CACDA,EAAO,gBAAgB,UAAU,CACjC,CACF,EACAA,EAAO,iBAAiB,QAAS,IAAM,CACtC,MAAMS,EAAa,YAAY,IAAM,CACpC,MAAMC,EAAiBL,EAAmB,IAAI,KACxCM,EAAUC,EAAUF,CAAc,EACxCT,EAAK,UAAYY,EAAeF,EAAQ,IAAI,EAC5CT,EAAM,UAAYW,EAAeF,EAAQ,KAAK,EAC9CR,EAAQ,UAAYU,EAAeF,EAAQ,OAAO,EAClDP,EAAQ,UAAYS,EAAeF,EAAQ,OAAO,EAClDX,EAAO,aAAa,WAAY,EAAE,EAClCD,EAAM,aAAa,WAAY,EAAE,GAC7BW,GAAkB,GAAK,CAACA,KAC3B,cAAcD,CAAU,EACxBR,EAAK,UAAY,KACjBC,EAAM,UAAY,KAClBC,EAAQ,UAAY,KACpBC,EAAQ,UAAY,KACpBL,EAAM,gBAAgB,UAAU,EAEjC,EAAE,GAAI,CAER,CAAC,EACD,SAASc,EAAeC,EAAO,CAC9B,OAAOA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,CACxC,CACA,SAASF,EAAUG,EAAI,CAQtB,MAAMd,EAAO,KAAK,MAAMc,EAAK,KAAG,EAE1Bb,EAAQ,KAAK,MAAOa,EAAK,MAAO,IAAI,EAEpCZ,EAAU,KAAK,MAAQY,EAAK,MAAO,KAAQ,GAAM,EAEjDX,EAAU,KAAK,MAASW,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAd,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAEAY,EAAUjB,EAAOO,CAAO"}